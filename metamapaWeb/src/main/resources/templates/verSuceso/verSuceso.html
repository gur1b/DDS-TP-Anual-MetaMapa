<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: layout(
          titulo='Mapa',
          linksAdicionales=~{:: #links-de-mapa},
          scriptsAdicionales=~{:: #scripts-de-mapa},
          contenido=~{:: #contenido-de-mapa}
      )}">

<th:block id="links-de-mapa">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>

    <link rel="stylesheet" th:href="@{/css/pages-css/verSuceso.css}">
</th:block>

<div id="contenido-de-mapa">
    <div class="map-section">
        <div class="map-panel" id="mapa"></div>

        <!-- Leaflet -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

        <!-- MarkerCluster CSS -->
        <link rel="stylesheet"
              href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
        <link rel="stylesheet"
              href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

        <!-- MarkerCluster JS -->
        <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

    </div>
</div>

<th:block id="scripts-de-mapa">
    <script th:inline="javascript">
        /*<![CDATA[*/
        const hechos = /*[[${hechos}]]*/ [];
        const coleccionId = /*[[${coleccionId}]]*/ null;
        console.log("Datos para el mapa:", hechos);
        /*]]>*/
    </script>

    <script th:src="@{/js/verSuceso.js}" defer></script>
</th:block>

</html>
